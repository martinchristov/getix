<div class="bill" 
	win-height-minus="85"
	hm-dragstart="dragStart()"
	hm-dragup="dragUp($event)"
	hm-dragdown="dragDown($event)"
	hm-dragend="dragEnd()"
	ng-class="{highlight:dragging.on}"
	>
	<div class="scroll" win-height-minus="171">
		<div class="in">
			<div class="cap">bill</div>
			<h3>New</h3>
			<hr>
			<div class="step1 step" ng-hide="step2">
				<div class="items">
					<div 
						class="item " 
						hm-tap="remove(item,bill,$event)" 
						ng-repeat="item in bill.items track by item.index">

						<div class="quan"><div class="in" animate-on-change="item.quantity">{{item.quantity}}x</div></div>
						<div class="name">{{item.name}}</div>
						<div class="price">{{item.price*item.quantity | money}}</div>
					</div>
				</div>
				<div class="total"><div class="cap">total</div>{{bill.total() | money}}</div>
			</div>
			<div class="step2 step" ng-show="step2">
				<div class="total">
					<div class="cap">total</div>
					{{bill.total() | money}}
					<div class="clearfix"></div>
					<div class="cap">received</div>
					<input id="received-input" type="text" ng-model="received" currency>
					<div class="clearfix"></div>
					<div class="cap">change</div>
					{{received - bill.total() | money}}
				</div>
			</div>
			<div class="clearfix"></div>
		</div>
	</div>
	<div class="bottom" ng-hide="step2">
		<div class="btn cancel icon icon_bin" hm-tap="$parent.bills.cancel(bill)"></div>
		<div class="btn close" hm-tap="toStep2()">CLOSE</div>
	</div>
	<div class="bottom" ng-show="step2">
		<div class="btn cancel" hm-tap="step2=false;"></div>
		<div class="btn close" hm-tap="$parent.bills.close(bill)">COMPLETE</div>
	</div>
</div>